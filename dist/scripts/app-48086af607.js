angular.module("morgan",["ui.router","FBAngular","ngAnimate","ngSanitize"]),google.load("feeds","1"),angular.module("morgan").controller("morganCtrl",["$scope","$timeout","$interval","Fullscreen","morganFactory",function(t,o,e,n,i){function r(){i.getSource().then(function(o){t.sourceList=o.data;for(key in t.sourceList)c(t.sourceList[key]);l()}),s()}function l(){for(index in t.sourceList)"block"===t.sourceList[index].display&&a(index)}function s(){if(t.scrollList.length>0){var o=Math.floor(Math.random()*t.scrollList.length);t.horizontalScroll=t.scrollList[o].content}setInterval(function(){if(t.scrollList.length>0){var o=Math.floor(Math.random()*t.scrollList.length);t.horizontalScroll=t.scrollList[o].content}},3e4)}function a(o){var e=1e3*Math.floor(20*Math.random()+5),n=1e3*Math.floor(10*Math.random()+5),i=Math.floor(60*Math.random()+20),r=Math.floor(60*Math.random()+20);t.sourceList[o].pos.top=i,t.sourceList[o].pos.left=r,setTimeout(function(){t.sourceList[o].isVisible=!0,t.$apply(),setTimeout(function(){t.sourceList[o].isVisible=!1,t.$apply(),a(o)},n)},e)}function c(t){t.refresh?(u(t),setInterval(function(){u(t)},1e3*t.refresh)):u(t)}function u(t){switch(t.type){case"time":t.isVisible=!1,t.content="",t.pos={top:0,left:0},d(t);break;case"yahooWeather":t.isVisible=!1,t.content="meteo",t.pos={top:0,left:0},g(t);break;case"rss":t.isVisible=!1,t.content="rss",t.pos={top:0,left:0},f(t)}}function d(t){var o=new Date;t.content=o.toLocaleDateString(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"<br>"+(o.getHours()<10?"0":"")+o.getHours()+":"+(o.getMinutes()<10?"0":"")+o.getMinutes()}function g(t){i.getAnyUrl(t.url).then(function(o){t.content=o.data.query.results.channel.location.city+"<br>"+o.data.query.results.channel.item.condition.temp+' Â°C\n<br><img src="http://l.yimg.com/a/i/us/we/52/'+o.data.query.results.channel.item.condition.code+'.gif" alt="condition">'})}function f(o){var e=new google.feeds.Feed(o.url);e.setNumEntries(10),e.load(function(e){m(o.id);for(key in e.feed.entries){var n={};n.id=o.id,n.content=e.feed.entries[key].title,t.scrollList.push(n),t.horizontalScroll=n.content}})}function m(o){for(var e=t.scrollList.length-1;e>=0;e--)t.scrollList[e].id===o&&t.scrollList.splice(e,1)}t.isVisible=!1,t.fullscreen=!1,t.hideScroll=!1,t.sourceList=[],t.scrollList=[],t.horizontalScroll="",t.showButton=!0,t.goFullscreen=function(){n.toggleAll(),t.showButton=!t.showButton},r()}]),angular.module("morgan").config(["$stateProvider","$urlRouterProvider",function(t,o){t.state("main",{url:"/",templateUrl:"app/main/main.html"}),o.otherwise("/")}]),angular.module("morgan").factory("morganFactory",["$http",function(t){var o="sources.json",e={};return e.getSource=function(){return t.get(o)},e.getAnyUrl=function(o){return t.get(o)},e}]),angular.module("morgan").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="container" id="mainContainer" data-ng-controller="morganCtrl" data-fullscreen=""><button type="button" data-ng-click="goFullscreen()" data-ng-if="showButton">Fullsreen</button><div data-ng-repeat="source in sourceList"><div class="component block" data-ng-class="{visible: source.isVisible, invisible: !source.isVisible}" data-ng-style="{\'top\': source.pos.top + \'%\', \'left\': source.pos.left + \'%\'}" data-ng-bind-html="source.content"></div></div><div class="component marquee">{{horizontalScroll}}</div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-48086af607.js.map
